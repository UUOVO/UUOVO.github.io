<!DOCTYPE html>
<html lang="zh-Hans,en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="x5-fullscreen" content="true">
<meta name="full-screen" content="yes">
<meta name="theme-color" content="#317EFB" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" name="viewport">
<meta name="description" content=".en {   color: orange;   font-weight:600; } .desc {   color: #CD853F;   font-weight: 600;   font-size:14px; }  .key {   color: #483D8B;   font-weight: 700; }    HTTP 协议规定 术语 B&#x2F;S：“Browser&#x2F;Se">
<meta property="og:type" content="article">
<meta property="og:title" content="Http请求-响应模式">
<meta property="og:url" content="http://example.com/2024/10/31/network/http%E8%AF%B7%E6%B1%82-%E5%93%8D%E5%BA%94%E6%A8%A1%E5%BC%8F/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content=".en {   color: orange;   font-weight:600; } .desc {   color: #CD853F;   font-weight: 600;   font-size:14px; }  .key {   color: #483D8B;   font-weight: 700; }    HTTP 协议规定 术语 B&#x2F;S：“Browser&#x2F;Se">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/img/404.jpg">
<meta property="og:image" content="http://example.com/img/404.jpg">
<meta property="og:image" content="http://example.com/img/404.jpg">
<meta property="og:image" content="http://example.com/img/404.jpg">
<meta property="og:image" content="http://example.com/img/404.jpg">
<meta property="article:published_time" content="2024-10-31T03:35:57.522Z">
<meta property="article:modified_time" content="2024-11-11T09:53:49.570Z">
<meta property="article:author" content="UUOVO">
<meta property="article:tag" content="网络知识">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/404.jpg">

    <meta name="keywords" content="网络">


<title >Http请求-响应模式</title>

<!-- Favicon -->

    <link href='/img/sitelogo16.svg?v=2.2.3' rel='icon' type='image/png' sizes='16x16' ></link>


    <link href='/img/sitelogo32.svg?v=2.2.3' rel='icon' type='image/png' sizes='32x32' ></link>


    <link href='/apple-touch-icon.png?v=2.2.3' rel='apple-touch-icon' sizes='180x180' ></link>


    <link href='/site.webmanifest' rel='manifest' ></link>


<!-- Plugin -->




    
<link rel="stylesheet" href="/css/plugins/bootstrap.row.css">

    
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css">

    
<link rel="stylesheet" href="https://unpkg.com/swiper@4.5.1/dist/css/swiper.min.css">

    




<!-- Icon -->

    
<link rel="stylesheet" href="/css/plugins/font-awesome.min.css">




<!-- Variable -->
<script>window.ASYNC_CONFIG = {"hostname":"example.com","author":"UUOVO","root":"/","typed_text":["Web Developer"],"theme_version":"2.2.3","theme":{"switch":true,"default":"style-light"},"favicon":{"logo":"/img/sitelogo32.svg","icon16":"/img/sitelogo16.svg","icon32":"/img/sitelogo32.svg","apple_touch_icon":"apple-touch-icon.png","webmanifest":"/site.webmanifest","visibilitychange":true,"hidden":"failure.ico","show_text":"(/≧▽≦/)咦！又好了！","hide_text":"(●—●)喔哟，崩溃啦！"},"i18n":{"placeholder":"搜索文章...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）","author":"本文作者：","copyright_link":"本文链接：","copyright_license_title":"版权声明：","copyright_license_content":"本博客所有文章除特别声明外，均默认采用 undefined 许可协议。","copy_success":"复制成功","copy_failure":"复制失败","open_read_mode":"进入阅读模式","exit_read_mode":"退出阅读模式","notice_outdate_message":"距离上次更新已经 undefined 天了, 文章内容可能已经过时。","sticky":"置顶","just":"刚刚","min":"分钟前","hour":"小时前","day":"天前","month":"个月前"},"swup":false,"plugin":{"flickr_justified_gallery":"https://unpkg.com/flickr-justified-gallery@latest/dist/fjGallery.min.js"},"icons":{"sun":"far fa-sun","moon":"far fa-moon","play":"fas fa-play","email":"far fa-envelope","next":"fas fa-arrow-right","calendar":"far fa-calendar-alt","clock":"far fa-clock","user":"far fa-user","back_top":"fas fa-arrow-up","close":"fas fa-times","search":"fas fa-search","reward":"fas fa-hand-holding-usd","toc_tag":"fas fa-th-list","read":"fas fa-book-reader","arrows":"fas fa-arrows-alt-h","double_arrows":"fas fa-angle-double-down","copy":"fas fa-copy"},"icontype":"font","highlight":{"plugin":"highlighjs","theme":true,"copy":true,"lang":true,"title":"mac","height_limit":false},"toc":{"post_title":true},"live_time":{"start_time":"10/30/2024 17:00:00","prefix":"博客已萌萌哒运行 undefined 天"},"danmu":{"enable":true,"el":".trm-banner"},"covers":["/img/cover/cover-1.jpg","/img/cover/cover-2.jpg","/img/cover/cover-3.jpg","/img/cover/cover-4.jpg","/img/cover/cover-5.jpg","/img/cover/cover-6.jpg","/img/cover/cover-7.jpg","/img/cover/cover-8.png","/img/cover/cover-9.png","/img/cover/cover-10.jpg","/img/cover/cover-11.jpg"],"search":{"enable":true,"type":"local","href":"https://www.google.com/search?q=site:","domain":null,"path":"search.xml"}};</script>
<script id="async-page-config">window.PAGE_CONFIG = {"isPost":true,"isHome":false,"postUpdate":"2024-11-11 17:53:49"};</script>

<!-- Theme mode css -->
<link data-swup-theme rel="stylesheet" href="/css/index.css?v=2.2.3" id="trm-switch-style">
<script>
    let defaultMode = ASYNC_CONFIG.theme.default !=='auto' ?  ASYNC_CONFIG.theme.default : (window.matchMedia("(prefers-color-scheme: light)").matches ? 'style-light' : 'style-dark')
    let catchMode = localStorage.getItem('theme-mode') || defaultMode;
    let type = catchMode === 'style-dark' ? 'add' : 'remove';
    document.documentElement.classList[type]('dark')
</script>

<!-- CDN -->


    
    



<!-- Site Analytics -->

 
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>

<body>

  <!-- app wrapper -->
  <div class="trm-app-frame">

    <!-- page preloader -->
    <div class="trm-preloader">
    <div class="trm-holder">
        <div class="preloader">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <!-- page preloader end -->

    <!-- change mode preloader -->
    <div class="trm-mode-swich-animation-frame">
    <div class="trm-mode-swich-animation">
        <i class="i-sun"><i class="iconfont far fa-sun"></i></i>
        <div class="trm-horizon"></div>
        <i class="i-moon"><i class="iconfont far fa-moon"></i></i>
    </div>
</div>
    <!-- change mode preloader end -->

      <!-- scroll container -->
      <div id="trm-dynamic-content" class="trm-swup-animation">
        <div id="trm-scroll-container" class="trm-scroll-container" style="opacity: 0">
            <!-- top bar -->
            <header class="trm-top-bar">
	<div class="container">
		<div class="trm-left-side">
			<!-- logo -->
<a href="/" class="trm-logo-frame trm-anima-link">
    
        <img alt="logo" src="/img/sitelogo32.svg">
    
    
        <div class="trm-logo-text">
            UU<span>OVO</span>
        </div>
    
</a>
<!-- logo end -->
		</div>
		<div class="trm-right-side">
			<!-- menu -->
<div class="trm-menu">
    <nav>
        <ul>
            
            <li class="menu-item-has-children ">
                <a  href="/" target="">
                    首页
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/archives/" target="">
                    归档
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/tags/" target="">
                            标签
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/categories/" target="">
                    分类
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" target="">
                            微信小程序
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%B7%A5%E5%85%B7/" target="">
                            前端工程化工具
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/React/" target="">
                            React
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/VUE/" target="">
                            VUE
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/TypeScript/" target="">
                            TypeScript
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/JavaScript/" target="">
                            JavaScript
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/CSS&HTML/" target="">
                            CSS&HTML
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" target="">
                            网络与数据结构
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/uniapp/" target="">
                            uniapp
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/ThreeJS/" target="">
                            ThreeJS
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/Node/" target="">
                            Node
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/JQuery/" target="">
                            JQuery
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/ES6/" target="">
                            ES6
                        </a>
                    </li>
                    
                    <li>
                        <a  href="/categories/AJAX/" target="">
                            AJAX
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/gallery/" target="">
                    相册
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/gallery/wallpaper/" target="">
                            相册详情页
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/about/" target="">
                    关于
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/links/" target="">
                            友链
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
        </ul>
    </nav>
</div>
<!-- menu end -->
			
    <!-- mode switcher place -->
    <div class="trm-mode-switcher-place">
        <div class="trm-mode-switcher">
            <i class="iconfont far fa-sun"></i>
            <input class="tgl tgl-light" id="trm-swich" type="checkbox">
            <label class="trm-swich" for="trm-swich"></label>
            <i class="iconfont far fa-moon"></i>
        </div>
    </div>
    <!-- mode switcher place end -->

			
    
    <div id="trm-search-btn" class="trm-search-btn">
        <i class="iconfont fas fa-search"></i>
    </div>
     

		</div>
		<div class="trm-menu-btn">
			<span></span>
		</div>
	</div>
</header>
            <!-- top bar end -->

            <!-- body -->
            
<div class="trm-content-start">
    <!-- banner -->
    <div class="trm-banner">
    
    <!-- banner slideshow cover-->
    <div class="swiper-container trm-slideshow">
        <div class="swiper-wrapper">
            
            <div class="swiper-slide">
                <img style="object-position:top;object-fit:cover" src="https://pic.netbian.com/uploads/allimg/230124/002504-167449110430d8.jpg" alt="banner" class="trm-banner-cover top" data-swiper-parallax-y="-200" data-swiper-parallax-scale="1.2">
            </div>
            
            <div class="swiper-slide">
                <img style="object-position:top;object-fit:cover" src="https://img.shetu66.com/2023/07/04/1688440566649486.png" alt="banner" class="trm-banner-cover top" data-swiper-parallax-y="-200" data-swiper-parallax-scale="1.2">
            </div>
            
            <div class="swiper-slide">
                <img style="object-position:top;object-fit:cover" src="https://img.shetu66.com/2023/07/04/1688453333865029.png" alt="banner" class="trm-banner-cover top" data-swiper-parallax-y="-200" data-swiper-parallax-scale="1.2">
            </div>
            
        </div>
    </div>
    <!-- banner slideshow cover end -->
    

    <!-- banner content -->
    <div class="trm-banner-content trm-overlay">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-4"></div>
                
                <div class="col-lg-8">

                    <!-- banner title -->
                    <div class="trm-banner-text ">
                        <div class="trm-label trm-mb-20">
                            NEWS LETTER
                        </div>
                        <h1 class="trm-mb-30 trm-hsmb-font">
                            Http请求-响应模式
                        </h1>

                        
                            <ul class="trm-breadcrumbs trm-label">
                                <li>
                                    <a href="/" class="trm-anima-link">Home</a>
                                </li>
                                <li>
                                    <span>
                                        2024
                                    </span>
                                </li>
                            </ul>
                        
                    </div>
                    <!-- banner title end -->

                    <!-- scroll hint -->
                    <span id="scroll-triger" class="trm-scroll-hint-frame">
                        <div class="trm-scroll-hint"></div>
                        <span class="trm-label">Scroll down</span>
                    </span>
                    <!-- scroll hint end -->

                </div>
            </div>
        </div>
    </div>
    <!-- banner content end -->
</div>
    <!-- banner end -->
    <div class="container">
        <div class="row">
            
                <div class="trm-page-sidebar col-lg-4 hidden-sm">
                    <!-- main card -->
                    <div class="trm-main-card-frame trm-sidebar">
    <div class="trm-main-card"> 
        <!-- card header -->
<div class="trm-mc-header">
    <div class="trm-avatar-frame trm-mb-20">
        <img alt="Avatar" class="trm-avatar" src="/img/avatar1.jpg">
    </div>
    <h5 class="trm-name trm-mb-15">
        UUOVO
    </h5>
    
        <div class="trm-label">
            I`m
            <span class="trm-typed-text">
                <!-- Words for theme.user.typedText -->
            </span>
        </div>
    
</div>
<!-- card header end -->
        <!-- sidebar social -->

<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<div class="trm-social">
    
        <a href="https://github.com/UUOVO" title="Github" rel="nofollow" target="_blank">
            <i class="iconfont fab fa-github"></i>
        </a>
    
        <a href="https://gitee.com/ovouu" title="Gitee" rel="nofollow" target="_blank">
            <i class="iconfont fab fa-google"></i>
        </a>
    
</div>

<!-- sidebar social end -->
        <!-- info -->
<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<ul class="trm-table trm-mb-20">
    
        <li>
            <div class="trm-label">
                Residence:
            </div>
            <div class="trm-label trm-label-light">
                Mars
            </div>
        </li>
    
        <li>
            <div class="trm-label">
                City:
            </div>
            <div class="trm-label trm-label-light">
                City
            </div>
        </li>
    
        <li>
            <div class="trm-label">
                Age:
            </div>
            <div class="trm-label trm-label-light">
                Age
            </div>
        </li>
    
</ul>
<!-- info end -->

        
    <div class="trm-divider trm-mb-40 trm-mt-40"></div>
    <!-- action button -->
    <div class="text-center">
        <a href="mailto:1370203877@qq.com" class="trm-btn">
            联系我
            <i class="iconfont far fa-envelope"></i>
        </a>
    </div>
    <!-- action button end -->

    </div>
</div>
                    <!-- main card end -->
                </div>
            
            <div class="trm-page-content col-lg-8">
                <div id="trm-content" class="trm-content">
                    <div class="trm-post-info row hidden-sm">
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-calendar-alt trm-icon"></i><br>
            10/31
        </div>
    </div>
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-clock trm-icon"></i><br>
            11:35
        </div>
    </div>
    <div class="col-sm-4">
        <div id="post-author" class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-user trm-icon"></i><br>
            UUOVO
        </div>
    </div>
</div>
<div class="trm-card ">
    <article id="article-container" class="trm-publication">
    <style>
.en {
  color: orange;
  font-weight:600;
}
.desc {
  color: #CD853F;
  font-weight: 600;
  font-size:14px;
}

.key {
  color: #483D8B;
  font-weight: 700;
}
</style>


<h2 id="HTTP-协议规定"><a href="#HTTP-协议规定" class="headerlink" title="HTTP 协议规定"></a>HTTP 协议规定</h2><ul>
<li><h2 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h2><ul>
<li><span class="en">B&#x2F;S</span>：“Browser&#x2F;Server”的缩写，即“浏览器&#x2F;服务器”模式，在这种结构下，用户操作与交互的界面是通过浏览器来实现。</li>
<li><span class="en">C&#x2F;S</span>：“Client&#x2F;Server”的缩写，即“客户端&#x2F;服务器”模式。</li>
<li><span class="en">DOM</span>：文档对象模型。是 HTML 文档的对象表示同时也是外部内容(如 js)与 HTML 元素之间的接口</li>
<li><span class="en">BOM</span>：浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window。BOM 比 DOM 更大，它包含 DOM。</li>
<li><span class="en">GPU</span>：图形处理器，擅长处理简单的任务，但同时跨多个内核。</li>
<li><span class="en">CPU</span>：中央处理器，计算机的大脑</li>
</ul>
</li>
<li><h2 id="缓存部分的术语"><a href="#缓存部分的术语" class="headerlink" title="缓存部分的术语"></a>缓存部分的术语</h2><ul>
<li><span class="en">Expires</span>：是<span class="key">HTTP&#x2F;1.0控制网页缓存</span>的字段，其值为服务器返回该请求<span class="key">结果缓存的到期时间</span>，即再次发起该请求时，如果客户端的时间小于 Expires 的值时，直接使用缓存结果。</li>
<li><span class="en">Cache-Control</span>：在<span class="key">HTTP&#x2F;1.1控制网页缓存</span>中，主要取值：<ul>
<li>public：所有内容都将被缓存(客户端和代理服务器都可缓存)</li>
<li>private：所有内容只有客户端可以缓存，默认值</li>
<li>no-cache：客户端缓存内容，但是是否使用需经过协商缓存来验证决定</li>
<li>no-store：所有内容都不会被缓存，即不使用强制缓存和协商缓存</li>
<li>max-age&#x3D;xxx：缓存内容将在 xxx 秒后失效</li>
</ul>
</li>
<li><span class="en">Last-Modified</span>：服务器响应请求时，返回该资源文件在服务器<span class="key">最后被修改的时间</span></li>
<li><span class="en">If-Modified-Since</span>：是客户端再次发起该请求时，携带上次请求返回的 Last-Modified 值，通过此字段值告诉服务器该资源上次请求返回的最后被修改时间。服务器收到该请求，根据 If-Modified-Since 的字段值与该资源在服务器的最后被修改时间做对比，<span class="key">若服务器的资源最后被修改时间大于If-Modified-Since 的字段值，则重新返回资源，状态码为 200；否则返回304，代表<code>资源无更新</code>，可继续使用缓存文件</span></li>
<li><span class="en">Etag</span>：服务器响应请求时，返回<span class="key">当前资源文件的一个唯一标识</span>(由服务器生成)</li>
<li><span class="en">If-None-Match</span>：客户端再次发起该请求时，携带上次请求返回的唯一标识 Etag 值，通过此字段值告诉服务器该资源上次请求返回的唯一标识值。服务器收到该请求后，<span class="key">根据If-None-Match的字段值与该资源在服务器Etag值做对比，一致则返回304，代表资源无更新，继续使用缓存文件；不一致则重新返回资源文件</span>，状态码为 200</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Http-与-Https"><a href="#Http-与-Https" class="headerlink" title="Http 与 Https"></a>Http 与 Https</h2><blockquote>
<p>http：是一个客服端和服务端请求和应答的标准（TCP），用于从 WWW 服务器传输超文本到本地浏览器的超文本传输协议<br>https：是以安全为目标的 HTTP 通道，即 HTTP 下加入 SSL 层进行加密。其作用是：建立一个信息安全通道，来确保数据的传输，确保网站的真实性。</p>
</blockquote>
<ul>
<li><h3 id="区别与优缺点"><a href="#区别与优缺点" class="headerlink" title="区别与优缺点"></a>区别与优缺点</h3><ul>
<li>从安全性能看：http 是<span class="key">超文本传输协议，信息是明文传输</span>，https 是具有安全型的<span class="key">ssl加密传输协议</span>，可防止数据在传输过程中被窃取、改变，确保数据的完整性。</li>
<li>从端口上看：http 协议的默认端口是<code>80</code>，而 https 的默认端口是<code>443</code></li>
<li>从性能上看：https 握手阶段比较费时，会使页面加载时间延长 50%，增加 10%~20%的耗电。</li>
<li>从缓存上看：https 缓存不如 http 高效，会增加数据开销</li>
<li>从证书上看：https 协议需要 ca 证书，费用较高，功能越强大的证书费用越高，SSL 证书需要绑定 IP，不能在同一个 IP 上绑定多个域名，IPV4 资源支持不了这种消耗</li>
<li>总结：<span class="key">https相对与http，耗电、高开销、有限制，但安全。</span></li>
</ul>
</li>
<li><h3 id="http-工作原理"><a href="#http-工作原理" class="headerlink" title="http 工作原理"></a>http 工作原理</h3><ul>
<li>HTTP 协议定义 Web 客户端如何从 Web 服务器请求 Web 页面，以及服务器如何把 Web 页面传送给客户端。客户端向服务器发送一个请求报文，服务器以一个状态行作为响应。</li>
</ul>
</li>
<li><h3 id="https-协议的工作原理"><a href="#https-协议的工作原理" class="headerlink" title="https 协议的工作原理"></a>https 协议的工作原理</h3><ul>
<li>客户端在使用 https 方式与 Web 服务器通信时经历以下几个步骤：</li>
</ul>
<ol>
<li>客户端使用<span class="key">https url 访问服务器</span>，则要求 web 服务器建立 ssl 链接</li>
<li>web<span class="key">服务器</span>收到客户端的请求后，会将<span class="key">网站的证书</span>(证书中包含了公钥)，<span class="key">传输给客户端</span></li>
<li>客户端和 web 服务器开始协商 SSL 链接的安全等级，即<span class="key">加密等级</span></li>
<li>客户端浏览器通过上方协商一致的安全等级，<span class="key">建立会话密钥</span>，然后通过<span class="key">网站的公钥来加密会话密钥</span>，并传送给网站</li>
<li>web 服务器通过自己的<span class="key">私钥解密出会话密钥</span></li>
<li>web 服务器通过<span class="key">会话密钥加密</span>与客户端之间的<span class="key">通信</span></li>
</ol>
</li>
</ul>
<hr>
<h2 id="TCP-三次握手"><a href="#TCP-三次握手" class="headerlink" title="TCP 三次握手"></a>TCP 三次握手</h2><ul>
<li>注：<span class="desc">SYN：同步序列编号</span></li>
<li>第一次握手：建立连接时，<span class="key">客户端发送syn包(syn&#x3D;j)到服务器</span>，并进入SYN_SENT状态，等待服务器确认;</li>
<li>第二次握手：<span class="key">服务器收到syn包并确认</span>客户的SYN(ack&#x3D;j+1),同时也<span class="key">发送</span>一个自己的SYN包(syn&#x3D;k),即 <span class="key">SYN+ACK</span> 包，此时服务器进入SYN_RECV状态</li>
<li>第三次握手：<span class="key">客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK</span>(ack&#x3D;k+1),此包发送完毕，客户端和服务器进入ESTABLISHED(TCP 连接成功)状态，<span class="key">完成三次握手</span></li>
<li>注：<span class="desc">三次握手完成后，客户端与服务器才正式开始传送数据</span></li>
</ul>
<hr>
<h2 id="TCP-四次挥手"><a href="#TCP-四次挥手" class="headerlink" title="TCP 四次挥手"></a>TCP 四次挥手</h2><ol>
<li><span class="key">客户端进程发出连接释放报文，并停止发送数据。释放数据报文首部</span>，FIN&#x3D;1，其序列号 seq&#x3D;u(&#x3D;前面已经传送过来的数据的最后一个字节的序号+1)，此时，<span class="key">客户端进入FIN-WAIT-1</span>(终止等待 1)状态。<span class="desc">TCP 规定，FIN 报文段即使不携带数据，也要消耗一个序号</span></li>
<li><span class="key">服务器收到连接释放报文，发出确认报文</span>，ACK&#x3D;1，ack&#x3D;u+1，并且带上自己的序列号 seq&#x3D;v，此时，<span class="key">服务端进入CLOSE-WAIT状态</span>（关闭等待）。TCP 服务器通知高层的应用进程，客户端向服务器的方向就释放了，这时候处于半关闭状态，即<span class="desc">客户端已经没有数据要发送了，但是服务器若发送数据，客户端依然要接受</span>。这个状态还要持续一段时间，也就是整个 CLOSE-WAIT 状态持续的时间。</li>
<li><span class="key">客户端收到服务器的确认请求后，客户端就进入FIN-WAIT-2</span>（终止等待 2）状态，等待服务器发送连接释放报文（在这之前还需要接受服务器发送的最后的数据）。</li>
<li><span class="key">服务器将最后的数据发送完毕后，就向客户端发送连接释放报文</span>，FIN&#x3D;1，ack&#x3D;u+1，由于在半关闭状态，服务器很可能又发送了一些数据，假定此时的序列号为 seq&#x3D;w，此时，<code>服务器</code>就进入了<code>LAST-ACK</code>（最后确认）状态，等待客户端的确认。</li>
<li><span class="key">客户端收到服务器的连接释放报文后，必须发出确认</span>，ACK&#x3D;1，ack&#x3D;w+1，而自己的序列号是 seq&#x3D;u+1，此时，客户端就进入了TIME-WAIT（时间等待）状态。注意此时 TCP 连接还没有释放，必须经过 2∗∗MSL（最长报文段寿命）的时间后，当客户端撤销相应的 TCB 后，才进入 CLOSED 状态。</li>
<li><span class="key">服务器只要收到客户端发出的确认，立即进入CLOSED状态</span>。同样，撤销 TCB 后，就结束了这次的 TCP 连接。可以看到，<span class="desc">服务器结束 TCP 连接的时间要比客户端早一些。</span><br><img src="/../../img/network/tcp%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.jpg" alt="tcp四次挥手"  data-tag='post-image' loading="lazy" onerror='this.onerror=null;this.src="/img/404.jpg"'></li>
</ol>
<hr>
<h2 id="TCP-IP-如何保证数据包传输的有序可靠"><a href="#TCP-IP-如何保证数据包传输的有序可靠" class="headerlink" title="TCP&#x2F;IP 如何保证数据包传输的有序可靠"></a>TCP&#x2F;IP 如何保证数据包传输的有序可靠</h2><blockquote>
<p>对字节流分段并进行编号然后通过 <code>ACK 回复</code>和<code>超时重发</code>这两个机制来保证。</p>
</blockquote>
<ol>
<li>为了保证数据包的可靠传递，<span class="key">发送方必须把已发送的数据包保留在缓冲区</span></li>
<li>并为<span class="key">每个</span>已发送的数据包<span class="key">启动一个超时定时器</sapn></li>
<li>如在定时器<span class="key">超时之前收到了对方发来的应答</span>信息（可能是对本包的应答，也可以是对本包后续包的应答），则<span class="key">释放该数据包占用的缓冲区</span></li>
<li><span class="key">否则，重传</span>该数据包，<span class="key">直到</span>收到应答或重传次数<span class="key">超过规定的最大次数</span>为止。</li>
<li><span class="key">接收方收到数据包后，先进行CRC校验，如果正确</span>则把数据交给上层协议，然后给<span class="key">发送方发送一个累计应答包</span>，表明该数据已收到，如果接收方正好也有数据要发给发送方，应答包也可方在数据包中捎带过去。</li>
</ol>
<hr>
<h2 id="OSI-模型与-TCP-IP-协议"><a href="#OSI-模型与-TCP-IP-协议" class="headerlink" title="OSI 模型与 TCP&#x2F;IP 协议"></a>OSI 模型与 TCP&#x2F;IP 协议</h2><blockquote>
<p>国际标准化组织（ISO）在 1978 年提出了“开放系统互联参考模型”，即著名的 OSI&#x2F;RM 模型（Open System Interconnection&#x2F;Reference Model）<br><img src="/../../img/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E5%9B%BE.webp" alt="计算机网络体系结构的通信协议图"  data-tag='post-image' loading="lazy" onerror='this.onerror=null;this.src="/img/404.jpg"'></p>
</blockquote>
<hr>
<h2 id="TCP-和-UDP-的区别"><a href="#TCP-和-UDP-的区别" class="headerlink" title="TCP 和 UDP 的区别"></a>TCP 和 UDP 的区别</h2><table>
<thead>
<tr>
<th></th>
<th>UDP</th>
<th>TCP</th>
</tr>
</thead>
<tbody><tr>
<td>是否连接</td>
<td>无连接</td>
<td>面向连接</td>
</tr>
<tr>
<td>是否可靠</td>
<td>不可靠，不使用流量控制和拥塞控制</td>
<td>可靠传输，使用流量控制和拥塞控制</td>
</tr>
<tr>
<td>传输方式</td>
<td>面向报文，有单播，多播，广播的功能</td>
<td>面向字节流，仅支持单播传输</td>
</tr>
<tr>
<td>首部开销</td>
<td>首部开销小，仅 8 字节</td>
<td>首部最小 20 字节，最大 60 字节</td>
</tr>
<tr>
<td>连接对象个数</td>
<td>支持一对一，一对多，多对一和多对多交互通信</td>
<td>只能一对一通信</td>
</tr>
<tr>
<td>适用场景</td>
<td>适用于实时应用</td>
<td>适用于要求可靠传输的应用</td>
</tr>
</tbody></table>
<hr>
<h2 id="HTTP-请求与响应"><a href="#HTTP-请求与响应" class="headerlink" title="HTTP 请求与响应"></a>HTTP 请求与响应</h2><ul>
<li>应答模式，分为七阶段</li>
</ul>
<h3 id="1-建立-TCP-连接"><a href="#1-建立-TCP-连接" class="headerlink" title="1. 建立 TCP 连接"></a>1. 建立 TCP 连接</h3><ul>
<li>在<span class="key">HTTP工作开始之前</span>，Web 浏览器首先要通过<span class="key">网络与Web服务器建立连接</span>，该连接是<span class="key">通过TCP</span>来完成的，该协议与 IP 协议共同构建 Internet，即著名的 TCP&#x2F;IP 协议，因此 Internet 又被称作是 TCP&#x2F;IP 网络。HTTP 是比 TCP 更高层次的应用层协议，根据规则，只有低层协议建立之后才能，才能进行更层协议的连接，因此，首先要<span class="key">三次握手建立TCP连接</span>（一般 TCP 连接的端口号是 80），之后才<span class="key">开始http请求</span>。</li>
</ul>
<h3 id="2-Web-浏览器向-Web-服务器发送请求行命令"><a href="#2-Web-浏览器向-Web-服务器发送请求行命令" class="headerlink" title="2. Web 浏览器向 Web 服务器发送请求行命令"></a>2. Web 浏览器向 Web 服务器发送请求行命令</h3><ul>
<li>一旦建立了 TCP 连接，<span class="key">Web浏览器就会向Web服务器发送请求</span>命令，例如：<span class="desc"> GET &#x2F; HTTP&#x2F;1.1</span></li>
</ul>
<h3 id="3-Web-浏览器发送请求头信息"><a href="#3-Web-浏览器发送请求头信息" class="headerlink" title="3. Web 浏览器发送请求头信息"></a>3. Web 浏览器发送请求头信息</h3><ul>
<li>浏览器发送其请求命令之后，还要<span class="key">以头信息的形式向Web服务器发送一些别的信息</span>，之后浏览器发送了一<span class="key">空白行来通知服务器<span>，头信息的<span class="key">发送已经结束</span>。</li>
</ul>
<h3 id="4-Web-服务器回送响应行"><a href="#4-Web-服务器回送响应行" class="headerlink" title="4. Web 服务器回送响应行"></a>4. Web 服务器回送响应行</h3><ul>
<li><span class="key">客户机向服务器发出请求后，服务器向客户机回送应答信息</span>，例如：<span class="desc">HTTP&#x2F;1.1 200 OK</span></li>
</ul>
<h3 id="5-Web-服务器回送响应头"><a href="#5-Web-服务器回送响应头" class="headerlink" title="5. Web 服务器回送响应头"></a>5. Web 服务器回送响应头</h3><ul>
<li>正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送信息</li>
</ul>
<h3 id="6-Web-服务器回送响应体"><a href="#6-Web-服务器回送响应体" class="headerlink" title="6. Web 服务器回送响应体"></a>6. Web 服务器回送响应体</h3><ul>
<li>Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就<span class="key">以Content-Type响应头信息所描述的格式发送用户所请求的实际数据</span>，即响应体 。</li>
</ul>
<h3 id="7-Web-服务器关闭-TCP-连接"><a href="#7-Web-服务器关闭-TCP-连接" class="headerlink" title="7. Web 服务器关闭 TCP 连接"></a>7. Web 服务器关闭 TCP 连接</h3><ul>
<li>一般情况下，一旦<span class="key">Web服务器向浏览器发送了请求数据，它就要关闭TCP连接</span>，然后如果浏览器或者服务器在其<span class="key">头信息加入Connection:keep-alive，TCP连接在发送后将仍然保持打开状态</span>，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。<ul>
<li>每一次请求-响应都是<span class="key">独立的，互不干扰</span>，这种模式的协议称之为无状态协议</li>
<li>每次请求-响应传递的<span class="key">消息都是纯文本</span>（字符串），而且文本格式必须按照 HTTP 协议规定的格式书写</li>
</ul>
</li>
</ul>
<hr>
<h2 id="HTTP-请求跨域问题"><a href="#HTTP-请求跨域问题" class="headerlink" title="HTTP 请求跨域问题"></a>HTTP 请求跨域问题</h2><h3 id="跨域的原理"><a href="#跨域的原理" class="headerlink" title="跨域的原理"></a>跨域的原理</h3><ul>
<li>跨域：是指浏览器不能执行其他网站的脚本。它是由浏览器的<span class="key">同源策略</span>造成的</li>
<li><span class="key">同源策略</span>：是指浏览器对 js 实施的安全限制，只要<span class="key">协议、域名、端口有任何一个不同，都被当作是不同的域</span></li>
<li>跨域原理：通过各种方式，避开浏览器的安全限制</li>
</ul>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul>
<li><h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><ul>
<li>ajax 请求受同源策略影响，不允许进行跨域请求，而 script 标签 src 属性中的连接却可以访问跨域的 js 脚本，利用这个特性，服务端不再返回 JSON 格式的数据，而是返回一段调用某个函数的 js 代码，在 src 中进行了调用，以此实现跨域。</li>
<li><span class="key">缺点：只支持get</span>，因为 script 标签只能适用 get 请求；JSONP 需要后端配合返回指定格式的数据。</li>
<li>步骤：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span> 动态创建script</span><br><span class="line"><span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line"># <span class="number">2.</span> 创建一个自定义函数，来接受返回的数据</span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">data</span>)&#123;</span><br><span class="line">	 <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line"> &#125;</span><br><span class="line"># <span class="number">3.</span> 设置script的src属性，并设置接口请求地址,接口参数一定要带一个自定义函数名</span><br><span class="line">script.<span class="property">src</span> = <span class="attr">http</span>:<span class="string">&#x27;localhost:3000/?callback=getData&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h3 id="document-domain"><a href="#document-domain" class="headerlink" title="document.domain"></a>document.domain</h3><ul>
<li>基础域名相同，子域名不同</li>
</ul>
</li>
<li><h3 id="window-name"><a href="#window-name" class="headerlink" title="window.name"></a>window.name</h3><ul>
<li>利用在一个浏览器窗口内，载入所有的域名都是共享一个 window.name</li>
</ul>
</li>
<li><h3 id="CORS-跨资源共享"><a href="#CORS-跨资源共享" class="headerlink" title="CORS 跨资源共享"></a>CORS 跨资源共享</h3><ul>
<li>服务器设置对 CORS 的支持原理：服务器设置 Access-Control-Allow-Origin HTTP 响应头之后，浏览器将会允许跨域请求</li>
</ul>
</li>
<li><h3 id="proxy-代理"><a href="#proxy-代理" class="headerlink" title="proxy 代理"></a>proxy 代理</h3><ul>
<li>目前常用方式，通过服务器设置代理</li>
</ul>
</li>
<li><h3 id="window-postMessage"><a href="#window-postMessage" class="headerlink" title="window.postMessage()"></a>window.postMessage()</h3><ul>
<li>利用 h5 新特性</li>
</ul>
</li>
</ul>
<hr>
<h2 id="粘包问题分析与对策"><a href="#粘包问题分析与对策" class="headerlink" title="粘包问题分析与对策"></a>粘包问题分析与对策</h2><blockquote>
<p>TCP 粘包是指<code>发送方</code>发送的若干包数据到<code>接收方</code>接收时粘成一包，从接收缓冲区看，后一包数据的<code>头紧接</code>着前一包数据的<code>尾</code>。UDP 不会出现粘包，因为它有消息边界</p>
</blockquote>
<ul>
<li><h3 id="出现的原因"><a href="#出现的原因" class="headerlink" title="出现的原因"></a>出现的原因</h3><ul>
<li>粘在一起的包都是完整的数据包</li>
<li>粘在一起的包有不完整的包</li>
</ul>
</li>
<li><h3 id="避免措施"><a href="#避免措施" class="headerlink" title="避免措施"></a>避免措施</h3><ul>
<li>对于<code>发送方</code>引起的粘包现象，用户可通过编程设置来避免，<code>TCP提供强制数据立即传送的操作指令push</code>，TCP 软件收到该操作指令后，就立即将本段数据发送出去，而不必等待发送缓冲区满；<ul>
<li>缺点：关闭了优化算法，降低了网络发送效率，影响应用程序性能，不建议使用</li>
</ul>
</li>
<li>对于<code>接收方</code>引起的粘包，则可通过优化程序设计、精简接收进程工作量、<code>提高接收进程优先级</code>等措施，使其及时接收数据，从而尽量避免出现粘包现象；<ul>
<li>缺点：只能减少不能避免，当发送频率较高时，或由于网络突发可能使某个时间段数据包到达接收方较快，接收方还是有可能来不及接收，从而导致粘包</li>
</ul>
</li>
<li><code>由接收方控制，将一包数据按结构字段，人为控制分多次接收，然后合并</code>，通过这种手段来避免粘包。分包多发。<ul>
<li>缺点：应用程序效率较低，不适合实时应用的场合</li>
</ul>
</li>
<li><span class="key">接收方创建一预处理线程，对接收到的数据包进行预处理，将粘连的包分开</span> — <span class="desc">高效可行</span></li>
</ul>
</li>
</ul>
<hr>
<h2 id="HTTP-请求和响应格式"><a href="#HTTP-请求和响应格式" class="headerlink" title="HTTP 请求和响应格式"></a>HTTP 请求和响应格式</h2><ul>
<li><p>在任意页面中F12的控制面板点击网络，点击对应 api 可观测</p>
</li>
<li><h3 id="http-请求格式由四部分组成：请求行、请求头、空行、消息体"><a href="#http-请求格式由四部分组成：请求行、请求头、空行、消息体" class="headerlink" title="http 请求格式由四部分组成：请求行、请求头、空行、消息体"></a>http 请求格式由四部分组成：请求行、请求头、空行、消息体</h3><ul>
<li>请求行：<span class="desc">高度概括了客户端想要干什么</span><ul>
<li>整个 HTTP 报文的第一行字符串，由请求方式（GET&#x2F;POST&#x2F;DELETE&#x2F;PUT）、请求路径+参数+hash、http&#x2F;版本号组成</li>
<li>GET 和 DELETE 不能有请求体，二 POST 和 PUT 请求可以有请求体</li>
</ul>
</li>
<li>请求头：<span class="desc">以键值对的方式描述了请求的一些额外信息,下面列举几个主要关注的</span><ul>
<li><strong>Host</strong>：url 地址中的主机，也就是域名+端口</li>
<li><strong>User-Agent</strong>：客户端的信息描述</li>
<li><strong>Content-Type</strong>：<ul>
<li><strong>application&#x2F;x-www-form-urlencoded</strong>：表示请求体的数据和 url 地址中参数的格式一样</li>
<li><strong>application&#x2F;json</strong>：表示请求体的数据是 json 格式</li>
<li><strong>multipart&#x2F;form-data</strong>：一种特殊的请求体格式，上传文件一般选择该格式</li>
<li><strong>text&#x2F;plain</strong>：表示纯文本</li>
</ul>
</li>
</ul>
</li>
<li>请求体：<span class="desc">包含了要</span>给服务器传递的正文数据，请求体是可以省略的，要与请求头里的 Content-Type 字段一致<ul>
<li><strong>application&#x2F;x-www-form-urlencoded</strong>：属性名&#x3D;属性值&amp;属性名&#x3D;属性值…</li>
<li><strong>application&#x2F;json</strong>：{“属性名”:”属性值”, “属性名”:”属性值”}</li>
<li><strong>multipart&#x2F;form-data</strong>：使用某个随机字符作为属性之间的分隔符，通常用于文件上传</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="http-响应格式由四部分组成：状态行、响应头、空行、消息体"><a href="#http-响应格式由四部分组成：状态行、响应头、空行、消息体" class="headerlink" title="http 响应格式由四部分组成：状态行、响应头、空行、消息体"></a>http 响应格式由四部分组成：状态行、响应头、空行、消息体</h3><ul>
<li>状态行：整个响应字符串的第一行，由 http 版本号、状态码、状态说明组成</li>
<li>响应头：响应头是服务器传递给客户端用于说明服务器的一些信息，由多个键值对组成</li>
<li>在 B&#x2F;S 模式中，浏览器会自动根据响应头中的 Content-Type 的取值，决定如何处理响应体<ul>
<li><strong>text&#x2F;plain</strong>：普通的文本，浏览器通常会将响应体原封不动的显示到页面上</li>
<li><strong>text&#x2F;html</strong>：HTML 文档，浏览器会将响应体作为页面进行渲染</li>
<li><strong>text&#x2F;javascript 或 application&#x2F;javascript</strong>：js 代码，浏览器会使用 JS 引擎将它解析执行</li>
<li><strong>text&#x2F;css</strong>：css 代码，浏览器会将其视为样式</li>
<li><strong>image&#x2F;jpeg</strong>：浏览器会将其视为 jpg 图片</li>
<li><strong>attachment</strong>：附件，浏览器看到整个类型，会触发下载功能</li>
<li>其他 MIME 类型</li>
</ul>
</li>
<li>响应体：就是服务器返回的数据信息</li>
</ul>
</li>
</ul>
<hr>
<h2 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h2><table>
<thead>
<tr>
<th>分类</th>
<th>分类描述</th>
</tr>
</thead>
<tbody><tr>
<td>1xx</td>
<td>信息，服务器收到请求，需要请求者继续执行操作</td>
</tr>
<tr>
<td>2xx</td>
<td>成功，操作被成功接收并处理</td>
</tr>
<tr>
<td>3xx</td>
<td>重定向，需要进一步的操作以完成请求</td>
</tr>
<tr>
<td>4xx</td>
<td>客户端错误，请求包含语法错误或无法完成请求</td>
</tr>
<tr>
<td>5xx</td>
<td>服务器错误，服务器在处理请求的过程中发生了错误</td>
</tr>
</tbody></table>
<ul>
<li>通常认为 0-399 之间的状态码时正常的</li>
<li>301 Moved Permanently：资源已被永久重定向，<span class="key">有缓存</span>，新的地址在请求头的 Location，请求新地址</li>
<li>302 Found：资源已被临时重定向，<span class="key">无缓存</span>，新的地址在请求头的 Location，请求新地址</li>
<li>304 Not Modified：文档内容未被修改，内容未更改，不提供新数据，仍继续使用旧数据，协商缓存生效</li>
<li>400 Bad Request：语义有误，当前请求无法被服务器理解</li>
<li>403 Forbidden：服务器拒绝执行</li>
<li>404 Not Found：资源不存在</li>
<li>500 Internal Server Error：服务器内部错误</li>
</ul>
<hr>
<h2 id="服务器的-http-超时"><a href="#服务器的-http-超时" class="headerlink" title="服务器的 http 超时"></a>服务器的 http 超时</h2><ul>
<li><h3 id="请求超时"><a href="#请求超时" class="headerlink" title="请求超时"></a>请求超时</h3><ul>
<li>客户端发起一个请求，通信层开始请求与服务器建立连接（包括在重试），如果 5S 之内还没有连接到服务器，那么认为超时</li>
</ul>
</li>
<li><h3 id="响应超时"><a href="#响应超时" class="headerlink" title="响应超时"></a>响应超时</h3><ul>
<li>URLConnection 类常见的超时处理就是调用其 setConnectTimeout 和 setReadTimeout 方法：<ul>
<li>setConnectTimeout：设置连接主机超时（单位：毫秒）</li>
<li>setReadTimeout：设置从主机读取数据超时（单位：毫秒）</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="用户请求页面的完整过程-简"><a href="#用户请求页面的完整过程-简" class="headerlink" title="用户请求页面的完整过程(简)"></a>用户请求页面的完整过程(简)</h2><ul>
<li>dns 解析，获取 ip 地址及端口；</li>
<li>建立 TCP 连接，3 次握手；</li>
<li>发送 HTTP 请求报文；</li>
<li>服务器接收请求并作处理；</li>
<li>服务器发送 HTTP 响应报文；</li>
<li>断开 TCP 连接，4 次挥手</li>
<li>浏览器解析返回数据，并渲染 html 页面</li>
</ul>
<hr>
<h2 id="从输入-URL-到页面加载的全过程-全"><a href="#从输入-URL-到页面加载的全过程-全" class="headerlink" title="从输入 URL 到页面加载的全过程(全)"></a>从输入 URL 到页面加载的全过程(全)</h2><blockquote>
<p><img src="/../../img/network/%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B.jpg" alt="从输入URL到页面加载的全过程"  data-tag='post-image' loading="lazy" onerror='this.onerror=null;this.src="/img/404.jpg"'></p>
</blockquote>
<h3 id="1-在浏览器中输入-URL"><a href="#1-在浏览器中输入-URL" class="headerlink" title="1.在浏览器中输入 URL"></a>1.在浏览器中输入 URL</h3><h3 id="2-查找缓存："><a href="#2-查找缓存：" class="headerlink" title="2.查找缓存："></a>2.查找缓存：</h3><ul>
<li>浏览器会从以下几个缓存中查找是否有该地址页面，有则显示页面内容。没有下一步。<ul>
<li>浏览器缓存：浏览器会记录 DNS 一段时间，因此，只是第一个地方解析 DNS 请求；</li>
<li>系统缓存：如果浏览器缓存中没找到，则调用操作系统，获取操作系统的记录(保存最近的 DNS 查询缓存)</li>
<li>路由器缓存：上面没有获取到 DNS 记录，从路由器缓存找</li>
<li>ISP 缓存：都失败，找 ISP 缓存</li>
</ul>
</li>
</ul>
<h3 id="3-DNS-域名解析："><a href="#3-DNS-域名解析：" class="headerlink" title="3.DNS 域名解析："></a>3.DNS 域名解析：</h3><ul>
<li>浏览器向 DNS 服务器发起请求，解析该 URL 中的域名对应的 IP 地址。DNS 服务器是基于 UDP 的，因此会用到 UDP 协议。</li>
</ul>
<h3 id="4-建立-TCP-连接："><a href="#4-建立-TCP-连接：" class="headerlink" title="4.建立 TCP 连接："></a>4.建立 TCP 连接：</h3><ul>
<li>解析出 IP 地址后，根据 IP 地址和默认 80 端口，和服务器建立 TCP 连接</li>
</ul>
<h3 id="5-发起-HTTP-请求："><a href="#5-发起-HTTP-请求：" class="headerlink" title="5.发起 HTTP 请求："></a>5.发起 HTTP 请求：</h3><ul>
<li>浏览器发起读取文件的 HTTP 请求，该请求报文作为 TCP 三次握手的第三次数据发送给服务器</li>
</ul>
<h3 id="6-服务器响应请求并返回结果："><a href="#6-服务器响应请求并返回结果：" class="headerlink" title="6.服务器响应请求并返回结果："></a>6.服务器响应请求并返回结果：</h3><ul>
<li>服务器对浏览器请求做出响应，并把对应的 html 文件发送给浏览器</li>
</ul>
<h3 id="7-关闭-TCP-连接："><a href="#7-关闭-TCP-连接：" class="headerlink" title="7.关闭 TCP 连接："></a>7.关闭 TCP 连接：</h3><ul>
<li>通过四次挥手释放 TCP 连接</li>
</ul>
<h3 id="8-浏览器渲染："><a href="#8-浏览器渲染：" class="headerlink" title="8.浏览器渲染："></a>8.浏览器渲染：</h3><ul>
<li>客户端（浏览器）解析 HTML 内容并渲染出来，浏览器接收到数据包后的解析流程为： <ul>
<li>构建 DOM 树：HTML 解析器将 HTML 标记解析成 DOM Tree，它是由 dom 元素及属性节点构成，树的根节点是 document 对象 </li>
<li>构建 CSS 规则树：生成 CSS 规则树 </li>
<li>构建 render 树：DOM 树构建的同时构建渲染树，由可视化元素按照其显示顺序而组成。处理 html 和 body 标记就会构建渲染树根节点 </li>
<li>布局：计算出每个节点在屏幕中的位置和大小信息</li>
<li>绘制：遍历 render 树，并使用 UI 后端层绘制每个节点<br><img src="/../../img/network/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93.jpg" alt="浏览器渲染"  data-tag='post-image' loading="lazy" onerror='this.onerror=null;this.src="/img/404.jpg"'></li>
</ul>
</li>
</ul>
<h3 id="9-JS-引擎解析过程："><a href="#9-JS-引擎解析过程：" class="headerlink" title="9.JS 引擎解析过程："></a>9.JS 引擎解析过程：</h3><ul>
<li>调用 JS 引擎执行 JS 代码（JS 的解释阶段，预处理阶段，执行阶段生成执行上下文，VO(View Object)，作用域链、回收机制等）<ul>
<li><strong>创建 window 对象</strong>：window 对象也叫全局执行环境，当<code>页面产生时就被创建</code>，所有的全局变量和函数都属于 window 的属性和方法，而 DOM Tree 也会映射在 window 的 doucment 对象上。当<code>关闭网页或关闭浏览器</code>时，全局执行环境会<code>被销毁</code>。</li>
<li><strong>加载文件</strong>：完成 js 引擎分析它的语法与词法是否合法，如果合法进入预编译</li>
<li><strong>预编译</strong>：在预编译的过程中，浏览器会寻找全局变量声明，把它作为 window 的属性加入到 window 对象中，并给变量赋值为’undefined’；寻找全局函数声明，把它作为 window 的方法加入到 window 对象中，并将函数体赋值给他（匿名函数是不参与预编译的，因为它是变量）。而变量提升作为不合理的地方在 ES6 中已经解决了，函数提升还存在。</li>
<li><strong>解释执行</strong>：执行到变量就赋值，如果变量没有被定义，也就没有被预编译直接赋值，在 ES5 非严格模式下这个变量会成为 window 的一个属性，也就是成为全局变量。string、int 这样的值就是直接把值放在变量的存储空间里，object 对象就是把指针指向变量的存储空间。函数执行，就将函数的环境推入一个环境的栈中，执行完成后再弹出，控制权交还给之前的环境。JS 作用域其实就是这样的执行流机制实现的。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="重绘和重排"><a href="#重绘和重排" class="headerlink" title="重绘和重排"></a>重绘和重排</h2><h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><ul>
<li>重排&#x2F;回流（Reflow）：当 DOM 的变化影响了元素的几何信息，浏览器需要<code>重新计算元素的几何属性</code>，将其安放在界面中的正确位置，这个过程叫做重排。<span class="key">表现为重新生成布局，重新排列元素</span>。</li>
<li>重绘(Repaint): 当一个元素的外观发生改变，但没有改变布局,重新把元素外观绘制出来的过程，叫做重绘。<span class="key">表现为某些元素的外观被改变</span></li>
<li>注：<span class="desc">重绘不一定会出现重排，重排必然会出现重绘</span></li>
</ul>
<h3 id="如何触发"><a href="#如何触发" class="headerlink" title="如何触发"></a>如何触发</h3><ul>
<li>添加、删除、更新 DOM 节点</li>
<li>通过 display: none 隐藏一个 DOM 节点-触发重排和重绘</li>
<li>通过 visibility: hidden 隐藏一个 DOM 节点-只触发重绘，因为没有几何变化</li>
<li>移动或者给页面中的 DOM 节点添加动画</li>
<li>添加一个样式表，调整样式属性</li>
<li>用户行为，例如调整窗口大小，改变字号，或者滚动。</li>
</ul>
<h3 id="如何避免"><a href="#如何避免" class="headerlink" title="如何避免"></a>如何避免</h3><ul>
<li>集中改变样式，不要一条修改</li>
<li>不要把 DOM 结点的属性值放在循环里当成循环里的变量</li>
<li>为动画的 HTML 元件使用 fixed 或 absolute 的 position，那么修改他们的 CSS 是不会 reflow 的</li>
<li>不使用 table 布局</li>
<li>尽量只修改 position：absolute 或 fixed 元素</li>
<li>动画开始 GPU 加速，translate 使用 3D 变化</li>
<li>提升为合成层<ul>
<li>优点：<ul>
<li>合成层的位图，会交由 GPU 合成，比 CPU 处理快</li>
<li>当需要重绘时，只重绘本身，不影响其他</li>
<li>对于 transform 和 opacity 效果，不会触发 layout 和 paint</li>
</ul>
</li>
<li>方式： 使用 css 的 will-change 属性，例#target{will-change: transform}</li>
</ul>
</li>
</ul>
<hr>
<h2 id="浏览器的缓存机制"><a href="#浏览器的缓存机制" class="headerlink" title="浏览器的缓存机制"></a>浏览器的缓存机制</h2><blockquote>
<p><img src="/../../img/network/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.jpg" alt="缓存机制"  data-tag='post-image' loading="lazy" onerror='this.onerror=null;this.src="/img/404.jpg"'></p>
</blockquote>
<ul>
<li>关键点+结论<ul>
<li>浏览器每次发起请求，都会先在浏览器缓存中查找该请求的结果以及缓存标识</li>
<li>浏览器每次拿到返回的请求结果都会将该结果和缓存标识存入浏览器缓存中</li>
</ul>
</li>
</ul>
<h3 id="强制缓存和协商缓存"><a href="#强制缓存和协商缓存" class="headerlink" title="强制缓存和协商缓存"></a>强制缓存和协商缓存</h3><blockquote>
<p>根据是否需要向服务器重新发起 HTTP 请求</p>
</blockquote>
<h3 id="强制缓存-—-不需要向服务器发起请求"><a href="#强制缓存-—-不需要向服务器发起请求" class="headerlink" title="强制缓存 — 不需要向服务器发起请求"></a>强制缓存 — <span class="desc">不需要向服务器发起请求</span></h3><blockquote>
<p>向浏览器缓存查找请求结果，并根据该结果的缓存规则来决定是否使用该缓存结果的过程</p>
</blockquote>
<ul>
<li>规则：浏览器向服务器发起请求，服务器会将缓存规则放入 HTTP 头中和请求结果一起返回给浏览器，控制强制缓存的字段分别时 Expires 和 Cache-Control，其中 ache-Control 优先级高</li>
<li>三种情况：<ul>
<li>不存在该缓存结果和缓存标识，强制缓存失效，则直接向服务器发起请求（跟第一次发起请求一致）。</li>
<li>存在该缓存结果和缓存标识，但该结果已失效，强制缓存失效，则使用协商缓存。</li>
<li>存在该缓存结果和缓存标识，且该结果尚未失效，强制缓存生效，直接返回该结果</li>
</ul>
</li>
</ul>
<h3 id="协商缓存-—-需要向服务器发起请求"><a href="#协商缓存-—-需要向服务器发起请求" class="headerlink" title="协商缓存 — 需要向服务器发起请求"></a>协商缓存 — <span class="desc">需要向服务器发起请求</span></h3><blockquote>
<p>协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程</p>
</blockquote>
<ul>
<li>规则：协商缓存的标识也是在响应报文的 HTTP 头中和请求结果一起返回给浏览器的，控制协商缓存的字段分别有：Last-Modified &#x2F; If-Modified-Since 和 Etag &#x2F; If-None-Match，其中 Etag &#x2F; If-None-Match 的优先级比 Last-Modified &#x2F; If-Modified-Since 高。</li>
<li>两种情况<ul>
<li>协商缓存生效，返回 304</li>
<li>协商缓存失效，返回 200 和请求结果</li>
</ul>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>浏览器缓存分为强制缓存和协商缓存，<span class="key">强制缓存优先于协商缓存</span>进行。</li>
<li>若<span class="key">强制缓存</span>(Expires 和 Cache-Control,<code>Cache-Control优先级高</code>)<span class="key">生效则直接使用缓存</span></li>
<li>若<span class="key">不生效则进行协商缓存</span>(Last-Modified &#x2F; If-Modified-Since 和 Etag &#x2F; If-None-Match，其中<code>Etag / If-None-Match的优先级高</code>)，协商缓存由服务器决定是否使用缓存</li>
<li>若<span class="key">协商缓存失效</span>&gt;，那么代表该请求的缓存失效，<span class="key">重新获取请求结果，再存入浏览器缓存</span>&gt;中；<code>生效则返回304</code>，继续使用缓存</li>
</ul>
<hr>
<h2 id="304-过程"><a href="#304-过程" class="headerlink" title="304 过程"></a>304 过程</h2><ul>
<li>浏览器请求资源时首先进行强制缓存，命中 Expires 和 Cache-Control，Expires 受限于本地时间，如果修改了本地时间，可能会造成缓存失效，可以通过 Cache-control: max-age 指定最大生命周期，状态仍然返回 200，但不会请求数据，在浏览器中能明显看到 from cache 字样。</li>
</ul>
<ul>
<li>强缓存失效，进入协商缓存阶段，首先验证 ETag&#x2F;If-None-Match。服务器根据客户端发送的的 If-None-Match 值和 ETag 来判断是否命中缓存。</li>
<li>协商缓存 Last-Modify&#x2F;If-Modify-Since 阶段，客户端第一次请求资源时，服务服返回的 header 中会加上 Last-Modify，Last-modify 是一个时间标识该资源的最后修改时间。再次请求该资源时，request 的请求头中会包含 If-Modify-Since，该值为缓存之前返回的 Last-Modify。服务器收到 If-Modify-Since 后，根据资源的最后修改时间判断是否命中缓存。</li>
</ul>
<hr>
<h2 id="进程、线程、协程"><a href="#进程、线程、协程" class="headerlink" title="进程、线程、协程"></a>进程、线程、协程</h2><h3 id="进程："><a href="#进程：" class="headerlink" title="进程："></a>进程：</h3><ul>
<li>一个具有一定独立功能的程序在一个数据集上的一次动态<span class="key">执行的过程</span>，是操作系统进行资源分配和调度的一个<span class="key">独立单位</span>，是应用程序运行的<span class="key">载体</span>。进程由内存空间和一个或多个线程组成</li>
</ul>
<h3 id="线程："><a href="#线程：" class="headerlink" title="线程："></a>线程：</h3><ul>
<li>程序执行中一个单一的顺序控制流程，是程序执行流的<span class="key">最小单位</span>，是处理调度和分派的<span class="key">基本单位</span>。一个进程可以由一个或多个线程，各个线程之间共享程序的内存空间。一个标准的线程由线程 ID、当前指令指针、寄存器和堆栈组成。</li>
</ul>
<h3 id="协程："><a href="#协程：" class="headerlink" title="协程："></a>协程：</h3><ul>
<li>是一种基于线程之上，但又<span class="key">比线程更加轻量级的存在</span>，这种由程序员自己写程序来管理的轻量级线程叫做<span class="key">用户空间线程</span>，具有对内核来说不可见的特性。</li>
</ul>
<h3 id="区别-1"><a href="#区别-1" class="headerlink" title="区别"></a>区别</h3><ul>
<li>调度：线程作为调度和分配的基本单位，进程作为拥有资源的基本单位；</li>
<li>并发性：不仅进程之间可以并发执行，同一个进程的多个线程之间也可并发执行；</li>
<li>拥有资源：进程是拥有资源的一个独立单位，线程不拥有系统资源，但可以访问隶属于进程的资源。</li>
<li>系统开销：在创建或撤消进程时，系统的开销明显大于创建或撤消线程时的开销。但是进程有独立的地址空间，一个进程崩溃后，不会影响其它进程，而线程只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个进程死掉就等于所有的线程死掉，所以多进程的程序要比多线程的程序健壮，但在进程切换时，耗费资源较大，效率较差。</li>
</ul>
<h3 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h3><ul>
<li>一个线程只能属于一个进程，而一个进程可以由多个线程，但至少有一个线程</li>
<li>资源分配给进程，同一进程的所有线程共享该进程的所有资源</li>
<li>处理及分给线程，即真正在处理机上运行的是线程</li>
<li>线程在执行过程中，需要协作同步。不同进程的线程间要利用消息通信的办法实现同步。</li>
</ul>
<hr>
<h2 id="CDN-—-Content-Ddistribute-Network，即内容分发网络"><a href="#CDN-—-Content-Ddistribute-Network，即内容分发网络" class="headerlink" title="CDN — Content Ddistribute Network，即内容分发网络"></a>CDN — Content Ddistribute Network，即内容分发网络</h2><ul>
<li>目的：<ul>
<li>解决因分布、带宽、服务器性能带来的访问延迟问题，适用于站点加速、点播、直播等场景。</li>
<li>使用户可就近取得所需内容，解决 Internet 网络拥挤的状况，提高用户访问网站的响应速度和成功率</li>
<li>尽可能的减少资源在转发、传输、链路抖动等情况下顺利保障信息的连贯性</li>
</ul>
</li>
<li>优势<ul>
<li>加速网站的访问</li>
</ul>
</li>
</ul>
<h2 id="传送门"><a href="#传送门" class="headerlink" title="传送门"></a>传送门</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7005468491067162655">DNS 域名解析</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6992597760935460901">浏览器工作原理</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6992843117963509791">浏览器缓存机制</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/7016593221815910408#heading-12">八股文含以上知识</a></p>
</blockquote>

</article>
    
    

</div>
<div class="trm-post-next-prev row">
    <div class="col-lg-12">
        <!-- title -->
        <h5 class="trm-title-with-divider">
            其他文章
            <span data-number="02"></span>
        </h5>
    </div>
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/2024/10/31/network/Web%20Worker/" class="trm-cover-frame trm-anima-link">
            
            
                <div class="trm-cover-img" data-random-img></div>
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /categories/%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                    网络与数据结构
                </a>
            </div>
            <h5>
                <a href="/2024/10/31/network/Web%20Worker/" class="trm-anima-link">
                    Web Worker
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>24/10/31</li>
                <li>11:35</li>
                
                    <li>244</li>
                
                
                    <li>1</li>
                
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/2024/10/31/JS/%E7%AE%97%E6%B3%95%EF%BC%9A%E6%8C%87%E9%92%88%E7%9B%B8%E5%85%B3/" class="trm-cover-frame trm-anima-link">
            
            
                <div class="trm-cover-img" data-random-img></div>
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /categories/JavaScript/">
                    JavaScript
                </a>
            </div>
            <h5>
                <a href="/2024/10/31/JS/%E7%AE%97%E6%B3%95%EF%BC%9A%E6%8C%87%E9%92%88%E7%9B%B8%E5%85%B3/" class="trm-anima-link">
                    算法-指针相关
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>24/10/31</li>
                <li>11:05</li>
                
                    <li>867</li>
                
                
                    <li>3</li>
                
            </ul>
        </div>
    </div>
</div>
    
</div>

    



                    <div class="trm-divider footer-divider"></div>

                    <!-- footer -->
                    <footer class="trm-footer-card trm-scroll-animation">

    

    
        <div class="trm-footer-item">
            <span>© 2024.10.30 - 2024</span>
            <span class="footer-separator"data-separator=" · "></span>
            <span class="trm-accent-color">UUOVO</span>
        </div>
    

    
        <div class="trm-footer-item">
            <span>
                由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v7.3.0
            </span>
            <span class="footer-separator" data-separator=" | "></span>
            <span> 
                主题 - 
                <a rel="noopener" href='https://github.com/MaLuns/hexo-theme-async' target='_blank'>Async</a>
                v2.2.3
            </span>
        </div>
      

    
        <div class="trm-footer-item blog-run-long"></div>
     

     
</footer>
                    <!-- footer end -->

                </div>
            </div>
        </div>
    </div>
</div>
            <!-- body end -->

            

    <div id="post-toc" class="trm-post-toc">
      <div class="trm-post-toc-header">
        目录导航
				<span id="post-toc-top">
					置顶
				</span>
      </div>
      <div class="trm-post-toc-content">
        <ol class="trm-toc"><li class="trm-toc-item trm-toc-level-2" title="HTTP 协议规定"><a rel="nofollow" class="trm-toc-link" href="#HTTP-协议规定"><span class="trm-toc-number">1.</span> <span class="trm-toc-text">HTTP 协议规定</span></a></li><li class="trm-toc-item trm-toc-level-2" title="术语"><a rel="nofollow" class="trm-toc-link" href="#术语"><span class="trm-toc-number">2.</span> <span class="trm-toc-text">术语</span></a></li><li class="trm-toc-item trm-toc-level-2" title="缓存部分的术语"><a rel="nofollow" class="trm-toc-link" href="#缓存部分的术语"><span class="trm-toc-number">3.</span> <span class="trm-toc-text">缓存部分的术语</span></a></li><li class="trm-toc-item trm-toc-level-2" title="Http 与 Https"><a rel="nofollow" class="trm-toc-link" href="#Http-与-Https"><span class="trm-toc-number">4.</span> <span class="trm-toc-text">Http 与 Https</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="区别与优缺点"><a rel="nofollow" class="trm-toc-link" href="#区别与优缺点"><span class="trm-toc-number">4.1.</span> <span class="trm-toc-text">区别与优缺点</span></a></li><li class="trm-toc-item trm-toc-level-3" title="http 工作原理"><a rel="nofollow" class="trm-toc-link" href="#http-工作原理"><span class="trm-toc-number">4.2.</span> <span class="trm-toc-text">http 工作原理</span></a></li><li class="trm-toc-item trm-toc-level-3" title="https 协议的工作原理"><a rel="nofollow" class="trm-toc-link" href="#https-协议的工作原理"><span class="trm-toc-number">4.3.</span> <span class="trm-toc-text">https 协议的工作原理</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="TCP 三次握手"><a rel="nofollow" class="trm-toc-link" href="#TCP-三次握手"><span class="trm-toc-number">5.</span> <span class="trm-toc-text">TCP 三次握手</span></a></li><li class="trm-toc-item trm-toc-level-2" title="TCP 四次挥手"><a rel="nofollow" class="trm-toc-link" href="#TCP-四次挥手"><span class="trm-toc-number">6.</span> <span class="trm-toc-text">TCP 四次挥手</span></a></li><li class="trm-toc-item trm-toc-level-2" title="TCP&#x2F;IP 如何保证数据包传输的有序可靠"><a rel="nofollow" class="trm-toc-link" href="#TCP-IP-如何保证数据包传输的有序可靠"><span class="trm-toc-number">7.</span> <span class="trm-toc-text">TCP&#x2F;IP 如何保证数据包传输的有序可靠</span></a></li><li class="trm-toc-item trm-toc-level-2" title="OSI 模型与 TCP&#x2F;IP 协议"><a rel="nofollow" class="trm-toc-link" href="#OSI-模型与-TCP-IP-协议"><span class="trm-toc-number">8.</span> <span class="trm-toc-text">OSI 模型与 TCP&#x2F;IP 协议</span></a></li><li class="trm-toc-item trm-toc-level-2" title="TCP 和 UDP 的区别"><a rel="nofollow" class="trm-toc-link" href="#TCP-和-UDP-的区别"><span class="trm-toc-number">9.</span> <span class="trm-toc-text">TCP 和 UDP 的区别</span></a></li><li class="trm-toc-item trm-toc-level-2" title="HTTP 请求与响应"><a rel="nofollow" class="trm-toc-link" href="#HTTP-请求与响应"><span class="trm-toc-number">10.</span> <span class="trm-toc-text">HTTP 请求与响应</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="1. 建立 TCP 连接"><a rel="nofollow" class="trm-toc-link" href="#1-建立-TCP-连接"><span class="trm-toc-number">10.1.</span> <span class="trm-toc-text">1. 建立 TCP 连接</span></a></li><li class="trm-toc-item trm-toc-level-3" title="2. Web 浏览器向 Web 服务器发送请求行命令"><a rel="nofollow" class="trm-toc-link" href="#2-Web-浏览器向-Web-服务器发送请求行命令"><span class="trm-toc-number">10.2.</span> <span class="trm-toc-text">2. Web 浏览器向 Web 服务器发送请求行命令</span></a></li><li class="trm-toc-item trm-toc-level-3" title="3. Web 浏览器发送请求头信息"><a rel="nofollow" class="trm-toc-link" href="#3-Web-浏览器发送请求头信息"><span class="trm-toc-number">10.3.</span> <span class="trm-toc-text">3. Web 浏览器发送请求头信息</span></a></li><li class="trm-toc-item trm-toc-level-3" title="4. Web 服务器回送响应行"><a rel="nofollow" class="trm-toc-link" href="#4-Web-服务器回送响应行"><span class="trm-toc-number">10.4.</span> <span class="trm-toc-text">4. Web 服务器回送响应行</span></a></li><li class="trm-toc-item trm-toc-level-3" title="5. Web 服务器回送响应头"><a rel="nofollow" class="trm-toc-link" href="#5-Web-服务器回送响应头"><span class="trm-toc-number">10.5.</span> <span class="trm-toc-text">5. Web 服务器回送响应头</span></a></li><li class="trm-toc-item trm-toc-level-3" title="6. Web 服务器回送响应体"><a rel="nofollow" class="trm-toc-link" href="#6-Web-服务器回送响应体"><span class="trm-toc-number">10.6.</span> <span class="trm-toc-text">6. Web 服务器回送响应体</span></a></li><li class="trm-toc-item trm-toc-level-3" title="7. Web 服务器关闭 TCP 连接"><a rel="nofollow" class="trm-toc-link" href="#7-Web-服务器关闭-TCP-连接"><span class="trm-toc-number">10.7.</span> <span class="trm-toc-text">7. Web 服务器关闭 TCP 连接</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="HTTP 请求跨域问题"><a rel="nofollow" class="trm-toc-link" href="#HTTP-请求跨域问题"><span class="trm-toc-number">11.</span> <span class="trm-toc-text">HTTP 请求跨域问题</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="跨域的原理"><a rel="nofollow" class="trm-toc-link" href="#跨域的原理"><span class="trm-toc-number">11.1.</span> <span class="trm-toc-text">跨域的原理</span></a></li><li class="trm-toc-item trm-toc-level-3" title="解决方案"><a rel="nofollow" class="trm-toc-link" href="#解决方案"><span class="trm-toc-number">11.2.</span> <span class="trm-toc-text">解决方案</span></a></li><li class="trm-toc-item trm-toc-level-3" title="JSONP"><a rel="nofollow" class="trm-toc-link" href="#JSONP"><span class="trm-toc-number">11.3.</span> <span class="trm-toc-text">JSONP</span></a></li><li class="trm-toc-item trm-toc-level-3" title="document.domain"><a rel="nofollow" class="trm-toc-link" href="#document-domain"><span class="trm-toc-number">11.4.</span> <span class="trm-toc-text">document.domain</span></a></li><li class="trm-toc-item trm-toc-level-3" title="window.name"><a rel="nofollow" class="trm-toc-link" href="#window-name"><span class="trm-toc-number">11.5.</span> <span class="trm-toc-text">window.name</span></a></li><li class="trm-toc-item trm-toc-level-3" title="CORS 跨资源共享"><a rel="nofollow" class="trm-toc-link" href="#CORS-跨资源共享"><span class="trm-toc-number">11.6.</span> <span class="trm-toc-text">CORS 跨资源共享</span></a></li><li class="trm-toc-item trm-toc-level-3" title="proxy 代理"><a rel="nofollow" class="trm-toc-link" href="#proxy-代理"><span class="trm-toc-number">11.7.</span> <span class="trm-toc-text">proxy 代理</span></a></li><li class="trm-toc-item trm-toc-level-3" title="window.postMessage()"><a rel="nofollow" class="trm-toc-link" href="#window-postMessage"><span class="trm-toc-number">11.8.</span> <span class="trm-toc-text">window.postMessage()</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="粘包问题分析与对策"><a rel="nofollow" class="trm-toc-link" href="#粘包问题分析与对策"><span class="trm-toc-number">12.</span> <span class="trm-toc-text">粘包问题分析与对策</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="出现的原因"><a rel="nofollow" class="trm-toc-link" href="#出现的原因"><span class="trm-toc-number">12.1.</span> <span class="trm-toc-text">出现的原因</span></a></li><li class="trm-toc-item trm-toc-level-3" title="避免措施"><a rel="nofollow" class="trm-toc-link" href="#避免措施"><span class="trm-toc-number">12.2.</span> <span class="trm-toc-text">避免措施</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="HTTP 请求和响应格式"><a rel="nofollow" class="trm-toc-link" href="#HTTP-请求和响应格式"><span class="trm-toc-number">13.</span> <span class="trm-toc-text">HTTP 请求和响应格式</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="http 请求格式由四部分组成：请求行、请求头、空行、消息体"><a rel="nofollow" class="trm-toc-link" href="#http-请求格式由四部分组成：请求行、请求头、空行、消息体"><span class="trm-toc-number">13.1.</span> <span class="trm-toc-text">http 请求格式由四部分组成：请求行、请求头、空行、消息体</span></a></li><li class="trm-toc-item trm-toc-level-3" title="http 响应格式由四部分组成：状态行、响应头、空行、消息体"><a rel="nofollow" class="trm-toc-link" href="#http-响应格式由四部分组成：状态行、响应头、空行、消息体"><span class="trm-toc-number">13.2.</span> <span class="trm-toc-text">http 响应格式由四部分组成：状态行、响应头、空行、消息体</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="状态码"><a rel="nofollow" class="trm-toc-link" href="#状态码"><span class="trm-toc-number">14.</span> <span class="trm-toc-text">状态码</span></a></li><li class="trm-toc-item trm-toc-level-2" title="服务器的 http 超时"><a rel="nofollow" class="trm-toc-link" href="#服务器的-http-超时"><span class="trm-toc-number">15.</span> <span class="trm-toc-text">服务器的 http 超时</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="请求超时"><a rel="nofollow" class="trm-toc-link" href="#请求超时"><span class="trm-toc-number">15.1.</span> <span class="trm-toc-text">请求超时</span></a></li><li class="trm-toc-item trm-toc-level-3" title="响应超时"><a rel="nofollow" class="trm-toc-link" href="#响应超时"><span class="trm-toc-number">15.2.</span> <span class="trm-toc-text">响应超时</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="用户请求页面的完整过程(简)"><a rel="nofollow" class="trm-toc-link" href="#用户请求页面的完整过程-简"><span class="trm-toc-number">16.</span> <span class="trm-toc-text">用户请求页面的完整过程(简)</span></a></li><li class="trm-toc-item trm-toc-level-2" title="从输入 URL 到页面加载的全过程(全)"><a rel="nofollow" class="trm-toc-link" href="#从输入-URL-到页面加载的全过程-全"><span class="trm-toc-number">17.</span> <span class="trm-toc-text">从输入 URL 到页面加载的全过程(全)</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="1.在浏览器中输入 URL"><a rel="nofollow" class="trm-toc-link" href="#1-在浏览器中输入-URL"><span class="trm-toc-number">17.1.</span> <span class="trm-toc-text">1.在浏览器中输入 URL</span></a></li><li class="trm-toc-item trm-toc-level-3" title="2.查找缓存："><a rel="nofollow" class="trm-toc-link" href="#2-查找缓存："><span class="trm-toc-number">17.2.</span> <span class="trm-toc-text">2.查找缓存：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="3.DNS 域名解析："><a rel="nofollow" class="trm-toc-link" href="#3-DNS-域名解析："><span class="trm-toc-number">17.3.</span> <span class="trm-toc-text">3.DNS 域名解析：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="4.建立 TCP 连接："><a rel="nofollow" class="trm-toc-link" href="#4-建立-TCP-连接："><span class="trm-toc-number">17.4.</span> <span class="trm-toc-text">4.建立 TCP 连接：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="5.发起 HTTP 请求："><a rel="nofollow" class="trm-toc-link" href="#5-发起-HTTP-请求："><span class="trm-toc-number">17.5.</span> <span class="trm-toc-text">5.发起 HTTP 请求：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="6.服务器响应请求并返回结果："><a rel="nofollow" class="trm-toc-link" href="#6-服务器响应请求并返回结果："><span class="trm-toc-number">17.6.</span> <span class="trm-toc-text">6.服务器响应请求并返回结果：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="7.关闭 TCP 连接："><a rel="nofollow" class="trm-toc-link" href="#7-关闭-TCP-连接："><span class="trm-toc-number">17.7.</span> <span class="trm-toc-text">7.关闭 TCP 连接：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="8.浏览器渲染："><a rel="nofollow" class="trm-toc-link" href="#8-浏览器渲染："><span class="trm-toc-number">17.8.</span> <span class="trm-toc-text">8.浏览器渲染：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="9.JS 引擎解析过程："><a rel="nofollow" class="trm-toc-link" href="#9-JS-引擎解析过程："><span class="trm-toc-number">17.9.</span> <span class="trm-toc-text">9.JS 引擎解析过程：</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="重绘和重排"><a rel="nofollow" class="trm-toc-link" href="#重绘和重排"><span class="trm-toc-number">18.</span> <span class="trm-toc-text">重绘和重排</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="区别"><a rel="nofollow" class="trm-toc-link" href="#区别"><span class="trm-toc-number">18.1.</span> <span class="trm-toc-text">区别</span></a></li><li class="trm-toc-item trm-toc-level-3" title="如何触发"><a rel="nofollow" class="trm-toc-link" href="#如何触发"><span class="trm-toc-number">18.2.</span> <span class="trm-toc-text">如何触发</span></a></li><li class="trm-toc-item trm-toc-level-3" title="如何避免"><a rel="nofollow" class="trm-toc-link" href="#如何避免"><span class="trm-toc-number">18.3.</span> <span class="trm-toc-text">如何避免</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="浏览器的缓存机制"><a rel="nofollow" class="trm-toc-link" href="#浏览器的缓存机制"><span class="trm-toc-number">19.</span> <span class="trm-toc-text">浏览器的缓存机制</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="强制缓存和协商缓存"><a rel="nofollow" class="trm-toc-link" href="#强制缓存和协商缓存"><span class="trm-toc-number">19.1.</span> <span class="trm-toc-text">强制缓存和协商缓存</span></a></li><li class="trm-toc-item trm-toc-level-3" title="强制缓存 — 不需要向服务器发起请求"><a rel="nofollow" class="trm-toc-link" href="#强制缓存-—-不需要向服务器发起请求"><span class="trm-toc-number">19.2.</span> <span class="trm-toc-text">强制缓存 — 不需要向服务器发起请求</span></a></li><li class="trm-toc-item trm-toc-level-3" title="协商缓存 — 需要向服务器发起请求"><a rel="nofollow" class="trm-toc-link" href="#协商缓存-—-需要向服务器发起请求"><span class="trm-toc-number">19.3.</span> <span class="trm-toc-text">协商缓存 — 需要向服务器发起请求</span></a></li><li class="trm-toc-item trm-toc-level-3" title="总结"><a rel="nofollow" class="trm-toc-link" href="#总结"><span class="trm-toc-number">19.4.</span> <span class="trm-toc-text">总结</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="304 过程"><a rel="nofollow" class="trm-toc-link" href="#304-过程"><span class="trm-toc-number">20.</span> <span class="trm-toc-text">304 过程</span></a></li><li class="trm-toc-item trm-toc-level-2" title="进程、线程、协程"><a rel="nofollow" class="trm-toc-link" href="#进程、线程、协程"><span class="trm-toc-number">21.</span> <span class="trm-toc-text">进程、线程、协程</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="进程："><a rel="nofollow" class="trm-toc-link" href="#进程："><span class="trm-toc-number">21.1.</span> <span class="trm-toc-text">进程：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="线程："><a rel="nofollow" class="trm-toc-link" href="#线程："><span class="trm-toc-number">21.2.</span> <span class="trm-toc-text">线程：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="协程："><a rel="nofollow" class="trm-toc-link" href="#协程："><span class="trm-toc-number">21.3.</span> <span class="trm-toc-text">协程：</span></a></li><li class="trm-toc-item trm-toc-level-3" title="区别"><a rel="nofollow" class="trm-toc-link" href="#区别-1"><span class="trm-toc-number">21.4.</span> <span class="trm-toc-text">区别</span></a></li><li class="trm-toc-item trm-toc-level-3" title="联系"><a rel="nofollow" class="trm-toc-link" href="#联系"><span class="trm-toc-number">21.5.</span> <span class="trm-toc-text">联系</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="CDN — Content Ddistribute Network，即内容分发网络"><a rel="nofollow" class="trm-toc-link" href="#CDN-—-Content-Ddistribute-Network，即内容分发网络"><span class="trm-toc-number">22.</span> <span class="trm-toc-text">CDN — Content Ddistribute Network，即内容分发网络</span></a></li><li class="trm-toc-item trm-toc-level-2" title="传送门"><a rel="nofollow" class="trm-toc-link" href="#传送门"><span class="trm-toc-number">23.</span> <span class="trm-toc-text">传送门</span></a></li></ol>
      </div>
    </div>

            
<div class="trm-fixed-container">
    
        <div class="trm-fixed-btn post-toc-btn" data-title="目录">
            <i class="iconfont fas fa-th-list"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="阅读模式" onclick="asyncFun.switchReadMode()">
            <i class="iconfont fas fa-book-reader"></i>
        </div>
    
    
        <div class="trm-fixed-btn hidden-md" data-title="单栏和双栏切换" onclick="asyncFun.switchSingleColumn()">
            <i class="iconfont fas fa-arrows-alt-h"></i>
        </div>
    
    <div id="trm-back-top" class="trm-fixed-btn" data-title="回到顶部">
        <i class="iconfont fas fa-arrow-up"></i>
    </div>
</div>
        </div>
      </div>
      <!-- scroll container end -->
  </div>
  <!-- app wrapper end -->

  
    <div class="trm-search-popup">
        <div class="trm-search-wrapper">
            <div class="form trm-search-form">
                <div class="trm-search-input-icon">
                    <i class="iconfont fas fa-search"></i>
                </div>
                <input class="trm-search-input" type="text" placeholder="搜索文章...">
                <div class="trm-search-btn-close">
                    <i class="iconfont fas fa-times"></i>
                </div>
            </div>
            <div class="trm-search-result-container">
                <div class="trm-search-empty">
                    请输入关键词进行搜索
                </div>
            </div>
            <div class="trm-search-footer">
                <div class="trm-search-stats"></div>
                <ul class="trm-search-commands">
                    <li>
                        <kbd class="command-palette-commands-key">
                            <svg width="15" height="15" aria-label="Escape key" role="img">
                                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="1.2">
                                    <path
                                        d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956">
                                    </path>
                                </g>
                            </svg>
                        </kbd>
                        <span class="command-palette-Label">to close</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

  <!-- Plugin -->




    
    
<script src="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

    
<script src="https://unpkg.com/swiper@4.5.1/dist/js/swiper.min.js"></script>


    
        <script src="/js/plugins/typing.js?v=2.2.3"></script>
    

    
        
<script src="https://unpkg.com/hexo-generator-searchdb@1.4.0/dist/search.js"></script>

        <script src="/js/plugins/local_search.js?v=2.2.3"></script>
    

    <!-- 数学公式 -->
    

    <!-- 评论插件 -->
    
        

        
    

		
			<script src="/js/plugins/danmu.js?v=2.2.3"></script>
		




    <!-- Service Worker -->
    
    <!-- baidu push -->
    


<script id="async-script" src="/js/main.js?v=2.2.3"></script>

<!-- CDN -->


    

    

    



</body>

</html>